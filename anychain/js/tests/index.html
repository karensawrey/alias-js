<html>
    <head>
        <title>Anychain.js sandbox</title>
        <script type="application/javascript">
        window.sodium = {
            onload: function (sodium) {
                run(sodium);
            }
        };
        </script>
        <script type="application/javascript" src="sodium.js" async></script>
        <script type="application/javascript" src="anychain.js"></script>
    </head>
    <body>
        <script>
function run(sodium) {
    let a = new Anychain();
    let sk = a.sign_keypair();
    let boxSk = a.box_keypair();

    let hidden = {hidden: a.fold("lol")};
    //hidden = a.seal(boxSk.publicKey, hidden);
    let o = {foo: "bar", hidden: hidden, fold: [42, null, "hello"]};
    let oSig = a.sign(sk, o);
    console.log(a.fold(oSig.body).base64());
    let oSigJSON = a.toJSON(oSig);
    let oSig2 = a.fromJSON(oSigJSON);
    a.verify(oSig2);
    console.log(a.fold(oSig2.body).base64());
    console.log(oSig2);
};
        </script>
    </body>
</html>
